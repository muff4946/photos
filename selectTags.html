<!doctype html>
<html>
<head>
	<title>Anderson Photo Library</title>
	<link rel="stylesheet" href="api/select-tags-style.css?v=1.02"></link>
</head>
<body>
	
	<div class="borders">
		<h1 id="header" class="header">Select Tags</h1>
	</div>
	
	<div id="angularEditor",class="container" ng-app="TagSelecter" ng-controller="TagSelecterCont">
		<div class="grid-container">
			<div class="PeopleList">
				<form class = "list">
					<div class="row" ng-repeat="x in people_list">
						<input type="checkbox" id={{x.id}}>
						<label for={{x.id}}>{{x.names}}</label>
					</div>
				</form>
			</div>
			
			<div class="EventList">
				<form>
					<div class="row" ng-repeat="x in event_list">
						<input type="checkbox" id={{x.id}}>
						<label for={{x.id}}>{{x.names}}</label>
					</div>
				</form>
			</div>
			
			<div class="HolidayList">
				<form>
					<div class="row" ng-repeat="x in holiday_list">
						<input type="checkbox" id={{x.id}}>
						<label for={{x.id}}>{{x.names}}</label>
					</div>
				</form>
			</div>
			
			<div class="YearList">
				<form>
					<div class="row" ng-repeat="x in year_list">
						<input type="checkbox" id={{x.id}}>
						<label for={{x.id}}>{{x.names}}</label>
					</div>
				</form>
			</div>
			
			<div class="OtherList">
				<form>
					<div class="row" ng-repeat="x in other_list">
						<input type="checkbox" id={{x.id}}>
						<label for={{x.id}}>{{x.names}}</label>
					</div>
				</form>
			</div>
			
			<div class="searchType">
				<button class = "submitSearch" ng-click="searchMe()">SEARCH</button>
			</div>
			
			<div class="infoBar">
				
			</div>
	
		</div>
	</div>
</body>
<script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.7.8/angular.min.js"></script>
<script>
var app = angular.module('TagSelecter',[]);
app.controller('TagSelecterCont', function($scope, $http){
	window.onload = function(){
		var url = "https://photos.dbq-andersons.com/selectTags.html";
		if(window.location!=url){
			window.location = url;
		}
		$scope.start();
	};
	
	$scope.start = function(){
		//get people tags
		$scope.getPeople();
		//get events tags
		$scope.getEvents();
		//get holiday tags
		$scope.getHolidays();
		//get year tags
		$scope.getYears();
		//get other tags   
		$scope.getOther();
		
	};
	
	//GETTING BUTTONS
	$scope.getPeople = function(){
		$http.get("https://photos.dbq-andersons.com/api/product/get_tags_by_type.php?type=individual").then(
			function successfulCallback(response){
				$scope.people_list = response.data.tags;
				
			},
			function errorCallback(response){
				$scope.alert("No People Tags");
				console.log("Error"+response);
		});
	};
	
	$scope.getEvents = function(){
		$http.get("https://photos.dbq-andersons.com/api/product/get_tags_by_type.php?type=event").then(
			function successfulCallback(response){
				$scope.event_list = response.data.tags;
				
			},
			function errorCallback(response){
				$scope.alert("No People Tags");
				console.log("Error"+response);
		});
	};
	
	$scope.getHolidays = function(){
		$http.get("https://photos.dbq-andersons.com/api/product/get_tags_by_type.php?type=holiday").then(
			function successfulCallback(response){
				$scope.holiday_list = response.data.tags;
				
			},
			function errorCallback(response){
				$scope.alert("No People Tags");
				console.log("Error"+response);
		});
	};
	
	$scope.getYears = function(){
		$http.get("https://photos.dbq-andersons.com/api/product/get_tags_by_type.php?type=year").then(
			function successfulCallback(response){
				$scope.year_list = response.data.tags;
				
			},
			function errorCallback(response){
				$scope.alert("No People Tags");
				console.log("Error"+response);
		});
	};
	
	$scope.getOther = function(){
		$http.get("https://photos.dbq-andersons.com/api/product/get_tags_by_type.php?type=other").then(
			function successfulCallback(response){
				$scope.other_list = response.data.tags;
				
			},
			function errorCallback(response){
				$scope.alert("No People Tags");
				console.log("Error"+response);
		});
	};
	
	//FUN ONES
	
	
	//SUBMITTING SEARCH
	
	$scope.searchMe = function(){
		//get list
		//write query
		//call query
		//change page
	}
	
	
	
	
	
	
	
	
	
	
	
});	
</script>
</html>